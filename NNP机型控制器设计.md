# NNP机型控制器设计（A机型）

## 流速控制

控制对象：呼吸机吸气端输出的混合气体总流速。

执行机构：空气比例阀和氧气比例阀。

反馈机构：空气和氧气流量传感器。

控制方法：比例阀理论模型（前馈）+实时PI控制（反馈）。

控制器输出：比例阀驱动占空比。

对于混合气体的流速控制就是对比例阀的控制。具体的控制算法见:

[NNP比例阀建模和控制]: https://github.com/RanFang66/WorkNotes/blob/main/NNP%E9%A1%B9%E7%9B%AE%E7%94%A8%E6%AF%94%E4%BE%8B%E9%98%80.md

## 氧浓度控制

控制对象：空氧混合气体的氧气浓度。

执行机构：流量控制

反馈机构：氧浓度传感器。

控制方法：理论模型（前馈）+实时PI控制（反馈）。

控制器输出：氧气在混合气体中的占比系数。

氧浓度控制是流量控制的外环，最终的氧浓度控制是需要通过流量控制来实现的。



## 压力控制

控制对象：气道压力(近端压力)，包括吸气压力（峰值压力）和呼吸末气道正压。

执行机构：IP阀

反馈机构：近端压力传感器

控制方法：IP阀理论模型(前馈)+PI控制(反馈)。

控制器输出：IP阀驱动占空比。

对于气道压力的控制其实就是对IP阀的控制，具体的控制算法见：

[NNP IP阀建模和控制]: https://github.com/RanFang66/WorkNotes/blob/main/NNP%20%E9%A1%B9%E7%9B%AE%E7%94%A8IP%E9%98%80%E6%B5%8B%E8%AF%95%E4%B8%8E%E6%8E%A7%E5%88%B6%E5%99%A8%E8%AE%BE%E8%

## 潮气量控制

控制对象：患者的潮气量

执行机构： 压力控制器

反馈机构： 近端流量传感器（对采样流速做积分计算）

控制方法：