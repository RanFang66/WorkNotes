# 双蛋问题

## 问题描述

有一栋100层的大楼,假设你有两个鸡蛋,这种鸡蛋非常特别,当你在一个临界楼层以下扔鸡蛋时,鸡蛋不会碎.而当你在临界楼层以上往下扔鸡蛋时,鸡蛋会碎.现在让你用这两个鸡蛋来测试往下扔鸡蛋会碎的临界楼层,你至少要扔多少次才能确定?

拓展问题: 如果是一个M层的大楼,你有N个鸡蛋,你至少需要多少次才能确定扔鸡蛋会碎的临界楼层.

## 问题解答

### 问题简单化

1. 如果你只有一颗鸡蛋?

   如果只有1颗鸡蛋,为了确保能够测试出临界楼层,只能从1层开始一层一层的扔鸡蛋测试.因此对于100层楼就需要R=100次.

2. 如果你有无限多鸡蛋?

   如果有无限多的鸡蛋,则可以直接运用二分法,则需要R=7次确定.

### 有两个鸡蛋的分析

推广到两个鸡蛋的情况,如果第一个鸡蛋从第k层扔下,那么就会存在两种情况:

第一种,鸡蛋碎了,由于只剩下一个鸡蛋,那么问题就会回到简单化的问题1,只能从第一层到第k-1层一层一层的测试,需要再扔k-1次.

第二种,鸡蛋没碎,仍然拥有两个鸡蛋,那么问题就变成了测试第k+1到第100层,你至少需要扔多少次找到临界楼层.这个问题和原问题具有相同的结构,但是范围变小了,从1到100层编程第k+1到100层.因此具备递归求解的条件.

总结以上分析,对于两个鸡蛋的情况,假设第一个鸡蛋在第k层扔下,那么保证测试到临界楼层的总扔蛋次数如下:
$$
T_k(M) = max\{k-1, T(M-k)\}+1
$$
那么原问题的解就为:
$$
T = min\{T_k(100)\}  \ k = 1\dots 100
$$

### 代码实现

```c
int GetMinThrowTimes(int height)
{
    int i = 0;
    int R = 100000;
    
    if (height == 1)
        return 1;
    for (i = 1; i < height+1; i++) {
        if ((tmp = CalcThrowTimes(height, i)) < R) {
            R = tmp;
        }
    }
    return R;
}

int CalcThrowTimes(int height, int k)
{
    if (height == 1) {
        return 1;
    }
    if (k == height) {
        return height;
    }
    
    return max(k-1, GetMinThrowTimes(height-k)) + 1;
}
```

## 问题推广与动态规划算法

加入将问题推广为有H层楼,N个鸡蛋,请确定最少要扔T次,才能确认使鸡蛋碎的临界楼层.

### 明确状态



